# UI/UX 全面美化计划（iOS 风格参考，保留汉字楷体标准）

> 目标：在不改变“汉字呈现标准（楷体/笔画）”的前提下，把整体风格做成“简洁、大方、克制”，更接近 iOS Human Interface Guidelines（HIG）的观感与信息层级；同时补齐暗黑模式、音量安全提醒、新手引导等“专业感”体验。

## 1. 设计原则与约束（必须遵守）

- **汉字显示字体不动**：任何用于展示汉字本体（大字卡片、字形示例、练习字形）的字体/笔画渲染保持现状（楷体标准）。UI 其它文字可调整字号/字重/间距，但不替换为花体。
- **少即是多**：只保留高频主动作作为“主按钮/主入口”，其余低频功能收拢到“更多/设置”里，避免屏幕堆满图标。
- **单一主动作（Primary CTA）**：每个核心页面最多一个主按钮（例如“练习”），其余为次要按钮或隐藏在菜单/底部弹层。
- **可访问性**：触控目标 ≥ 44dp、对比度合格、所有图标有 `contentDescription`、支持系统字体放大不溢出。
- **离线优先 + 性能优先**：UI 美化不能引入明显卡顿/加载阻塞；大资源（字典/字形）仍按需加载。

## 2. 信息架构（Tab 与入口）建议

### 已决定：底部 4 Tab（Home / Learn / Dict / Me）

- `Home`：每日一字（后续接入）/继续练习/搜索入口/练习画布的主入口（主 CTA 聚焦“练习”）
- `Learn`：课程 + 进度（可用二级分段/Tab 切换），后续“每日任务/打卡/成就”也放在这里最自然
- `Dict`：字典搜索 + 收藏/历史
- `Me`：设置、帮助、隐私、反馈、数据管理（以及引导页/音量安全等开关）

> 说明：从“功能数量”转向“顶层目的地数量”。课程与进度是同一学习域，合并到 `Learn` 有利于底栏简洁，也方便后续接入每日任务。

### 图标收拢原则（“高频露出，低频收起”）

- 高频：搜索、发音、开始练习、字典解释
- 中频：课程前进/后退、历史/进度
- 低频：网格/颜色/描红模板、HSK 信息、隐私/帮助、重置数据等 → 统一进“更多/设置”

## 3. 视觉系统（iOS 风格落地到 Compose）

- **颜色**：中性灰阶为主（背景/卡片层级），强调色只用于 Primary CTA（可参考截图中的红色按钮）。
- **层级**：用“圆角卡片 + 轻微阴影/tonalElevation”表达层级，避免强边框与高饱和色块。
- **圆角**：统一半径（例如 20–28dp），按钮与卡片保持一致。
- **排版**：标题/副标题/说明文字的字号与字重分层清晰；行距与留白充足（更接近 iOS 的“呼吸感”）。
- **图标风格**：尽量统一使用同一套（Outlined 或 Filled），避免混搭；减少图标数量。

## 4. 核心页面改造建议（按优先级）

### P0：练习页（Home/Practice）

目标：把“画布 + 一堆图标”改成“内容居中 + 少量高频动作 + 更多收起”。

- 顶部：显示“每日一字 / 当前字”信息（可先用占位，后续接入每日任务）。
- 中部：大字卡片/画布卡片（圆角大卡片），暗黑模式下仍保持清晰对比。
- 底部动作条（3 个）：`发音` / `练习(主按钮)` / `字典`
- 其它动作（网格、描红、提示、HSK、课程跳转等）：收进右上角“更多”或底部弹层。

验收：
- 进入练习页时视觉元素更少、更聚焦；主按钮明显；低频功能不丢失但不抢眼。

### P0：暗黑模式（真正可用）

现状虽有 `BishunTheme` 的 dark scheme，但部分区域仍硬编码亮色（例如画布/背景）。

要做：
- 统一用 `MaterialTheme.colorScheme` 驱动背景/卡片/文字色；必要时为“画布/练习区”定义专用颜色 token（确保暗黑也好看）。
- 提供“跟随系统/浅色/深色”的设置项（避免用户只想强制浅色或强制深色）。

验收：
- 系统切换暗黑后界面不刺眼、不出现大面积纯白突兀区域；关键文字/按钮对比度合格。

### P1：音量安全提醒（发音前防止过大音量）

建议策略（不打扰但有效）：
- 仅当媒体音量 ≥ 阈值（建议 80%）且用户未关闭提醒时，在播放前弹出确认框（参考截图）。
- 弹框动作：
  - `Check`：弹出系统音量面板
  - `Lower`：一键降到安全档（例如 30%）并继续播放
  - `Cancel`：取消播放
- 设置项：允许用户关闭该提示或调整阈值（后续可做）。

验收：
- 高音量时不会“直接外放吓人”；低音量时不弹窗打扰。

### P1：首次使用引导（Onboarding）

目的：提升“专业感”，并在首次就把关键价值讲清楚。

建议 3–4 页：
1) 离线查字与笔顺（核心价值）
2) 练习与提示机制（怎么用）
3) 字典与发音（怎么查、怎么听）
4) 音量安全（可选，顺便给用户一个“我很贴心”的第一印象）

验收：
- 首次启动进入引导；完成后不再打扰；可在设置里重新查看。

## 5. 后续能力（依赖“每日任务”后再做）

### 每日任务（Daily）

- 每日一字：基于 HSK/频率/用户水平生成每日目标；完成后记录 streak；支持提醒通知（可选）。

### 桌面组件（Widget）

- 使用 Jetpack Glance 实现：
  - 显示今日汉字 + 简要信息（HSK/Day）
  - 点击打开 App 进入练习/字典
  - “直接播放发音”在 Android 上会受后台限制，建议先做“点击打开 App 并自动播放”作为 MVP

## 6. 推荐执行节奏（可直接落到迭代）

- Iteration D（1–2 周）：视觉系统 + 练习页 P0 改造 + 暗黑模式可用
- Iteration E（1 周）：音量安全提醒 + 首次引导
- Iteration F（2–4 周）：每日任务（含数据模型、进度）→ 再上 Widget（Glance）
